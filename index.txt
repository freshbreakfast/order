<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>é®®åˆ°å‘³ é»é¤é </title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; background: #f8f8f8; }
    h2 { text-align: center; color: #333; }
    .item { background: white; border-radius: 10px; padding: 12px 16px; margin-bottom: 16px; box-shadow: 0 2px 4px rgba(0,0,0,0.08); }
    .name { font-weight: bold; font-size: 16px; margin-bottom: 10px; }
    .qty { display: flex; align-items: center; }
    .qty button { padding: 6px 14px; font-size: 16px; border: none; background: #ccc; border-radius: 6px; cursor: pointer; }
    .qty span { margin: 0 10px; min-width: 20px; display: inline-block; text-align: center; font-weight: bold; }
    #lineBtn { display: block; text-align: center; background: #06C755; color: white; padding: 14px 20px; border-radius: 8px;
                text-decoration: none; font-size: 18px; margin-top: 30px; }
    #total { text-align: right; font-size: 18px; font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>

<h2>é®®åˆ°å‘³ é»é¤é </h2>

<div id="menu"></div>
<div id="total">ç¸½é‡‘é¡ï¼š$0</div>
<a id="lineBtn" href="#" target="_blank">âœ… é€å‡ºé»é¤</a>

<script>
// ç”¢å“æ¸…å–®ï¼ˆå…± 30 é …ï¼‰
const products = [
  { name: "é®®åˆ°å‘³æ¼¢å ¡è‚‰20ç²’", price: 155 },
  { name: "æ­£ç‚¹ç‰›è‚‰å ¡", price: 205 },
  { name: "é®®åˆ°å‘³åŸå‘³è±¬æ’1kg", price: 255 },
  { name: "æ±èŠ³å…¨è‚‰ç«è…¿3kg", price: 765 },
  { name: "æ¼¢å ¡æ’ç†Ÿ6ç‰‡", price: 185 },
  { name: "é®®åˆ°å‘³è›‹é¤…çš®20å¼µ", price: 39 },
  { name: "è”¥é…¥é¤…", price: 105 },
  { name: "é›å¡Š", price: 110 },
  { name: "éµæ¿éºµ", price: 25 },
 
];

const cart = {};
const menu = document.getElementById("menu");

products.forEach(p => {
  cart[p.name] = 0;
  const div = document.createElement("div");
  div.className = "item";

  const html = '<div class="name">ğŸ´ ' + p.name + '</div>' +
               '<div class="qty">' +
               '<button onclick="changeQty(\'' + p.name + '\', -1)">ï¼</button>' +
               '<span id="qty-' + p.name + '">0</span>' +
               '<button onclick="changeQty(\'' + p.name + '\', 1)">ï¼‹</button>' +
               '</div>';
  div.innerHTML = html;
  menu.appendChild(div);
});

function changeQty(name, delta) {
  cart[name] = Math.max(0, cart[name] + delta);
  document.getElementById("qty-" + name).textContent = cart[name];
  updateLineLink();
}

function updateLineLink() {
  let msg = 'ğŸ“¦ é®®åˆ°å‘³ è¨‚å–®%0A';
  let total = 0;
  for (const [item, qty] of Object.entries(cart)) {
    if (qty > 0) {
      const price = products.find(p => p.name === item).price;
      msg += item + ' x' + qty + '%0A';
      total += qty * price;
    }
  }
  msg += 'ğŸ’° ç¸½é‡‘é¡ï¼š$' + total + '%0A';
  document.getElementById("total").textContent = "ç¸½é‡‘é¡ï¼š$" + total;
  const url = 'https://line.me/R/oaMessage/@567ncwhd/?' + msg;
  document.getElementById("lineBtn").href = url;
}
</script>

</body>
</html>
