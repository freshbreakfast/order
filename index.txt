<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>鮮到味 點餐頁</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; background: #f8f8f8; }
    h2 { text-align: center; color: #333; }
    .item { background: white; border-radius: 10px; padding: 12px 16px; margin-bottom: 16px; box-shadow: 0 2px 4px rgba(0,0,0,0.08); }
    .name { font-weight: bold; font-size: 16px; margin-bottom: 10px; }
    .qty { display: flex; align-items: center; }
    .qty button { padding: 6px 14px; font-size: 16px; border: none; background: #ccc; border-radius: 6px; cursor: pointer; }
    .qty span { margin: 0 10px; min-width: 20px; display: inline-block; text-align: center; font-weight: bold; }
    #lineBtn { display: block; text-align: center; background: #06C755; color: white; padding: 14px 20px; border-radius: 8px;
                text-decoration: none; font-size: 18px; margin-top: 30px; }
    #total { text-align: right; font-size: 18px; font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>

<h2>鮮到味 點餐頁</h2>

<div id="menu"></div>
<div id="total">總金額：$0</div>
<a id="lineBtn" href="#" target="_blank">✅ 送出點餐</a>

<script>
// 產品清單（共 30 項）
const products = [
  { name: "鮮到味漢堡肉20粒", price: 155 },
  { name: "正点牛肉堡", price: 205 },
  { name: "鮮到味原味豬排1kg", price: 255 },
  { name: "東芳全肉火腿3kg", price: 765 },
  { name: "漢堡排熟6片", price: 185 },
  { name: "鮮到味蛋餅皮20張", price: 39 },
  { name: "蔥酥餅", price: 105 },
  { name: "雞塊", price: 110 },
  { name: "鐵板麵", price: 25 },
 
];

const cart = {};
const menu = document.getElementById("menu");

products.forEach(p => {
  cart[p.name] = 0;
  const div = document.createElement("div");
  div.className = "item";

  const html = '<div class="name">🍴 ' + p.name + '</div>' +
               '<div class="qty">' +
               '<button onclick="changeQty(\'' + p.name + '\', -1)">－</button>' +
               '<span id="qty-' + p.name + '">0</span>' +
               '<button onclick="changeQty(\'' + p.name + '\', 1)">＋</button>' +
               '</div>';
  div.innerHTML = html;
  menu.appendChild(div);
});

function changeQty(name, delta) {
  cart[name] = Math.max(0, cart[name] + delta);
  document.getElementById("qty-" + name).textContent = cart[name];
  updateLineLink();
}

function updateLineLink() {
  let msg = '📦 鮮到味 訂單%0A';
  let total = 0;
  for (const [item, qty] of Object.entries(cart)) {
    if (qty > 0) {
      const price = products.find(p => p.name === item).price;
      msg += item + ' x' + qty + '%0A';
      total += qty * price;
    }
  }
  msg += '💰 總金額：$' + total + '%0A';
  document.getElementById("total").textContent = "總金額：$" + total;
  const url = 'https://line.me/R/oaMessage/@567ncwhd/?' + msg;
  document.getElementById("lineBtn").href = url;
}
</script>

</body>
</html>
